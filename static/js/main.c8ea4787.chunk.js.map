{"version":3,"sources":["components/Reise.js","components/Utgifter.js","App.js","index.js"],"names":["Reise","id","onChange","reisetype","handleDelete","antall","km","useState","classname","animation","setAnimation","handleOnChange","event","target","name","value","className","style","marginBottom","IconButton","aria-label","type","onClick","setTimeout","color","marginRight","TextField","label","Utgifter","margin","App","Arbeidsreise","Besoeksreise","initialState","arbeidsreiser","besoeksreiser","utgifterBomFergeEtc","initialErrorState","message","state","setState","reisefradrag","setReisefradrag","validationError","setError","handleAddReise","newState","newUniqueId","Math","max","map","x","push","length","newStateFiltered","filter","indexToChange","findIndex","handleSubmit","a","preventDefault","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","json","data","ok","error","status","errors","Promise","reject","catch","Icon","Button","variant","endIcon","display","width","fontSize","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c8ea4787.chunk.js","sourcesContent":["import React, {useState} from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/DeleteOutlined';\r\n\r\nexport const Reise = ({ id, onChange, reisetype, handleDelete, antall, km }) => {\r\n    const deleteAnimationClass = \"paper animate__bounceOut\";\r\n    const paperAndBounceInAnimation = \"paper animate__bounceIn\";\r\n\r\n    const [animation, setAnimation] = useState({\r\n        classname: paperAndBounceInAnimation\r\n    });\r\n\r\n    const handleOnChange = (event) => {\r\n        onChange(event.target.name, event.target.value, id, reisetype);\r\n    };\r\n\r\n    const handleOnClick = () => {\r\n        if (id !== 0) {\r\n            setAnimation({classname: deleteAnimationClass});\r\n            setTimeout(() => {\r\n                handleDelete(id, reisetype);\r\n            }, 700);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={`${animation.classname}`} style={{ marginBottom: '15px' }}>\r\n            <IconButton\r\n                aria-label=\"delete\"\r\n                type=\"button\"\r\n                onClick={handleOnClick}\r\n                color=\"secondary\"\r\n                style={{ marginRight: '10px' }}\r\n            >\r\n                <DeleteIcon />\r\n            </IconButton>\r\n            <TextField\r\n                id=\"standard-basic\"\r\n                label=\"Kilometer\"\r\n                value={km}\r\n                type=\"number\"\r\n                name=\"km\"\r\n                color=\"secondary\"\r\n                onChange={handleOnChange}\r\n                style={{ marginRight: '10px'}}\r\n            />\r\n            <TextField\r\n                id=\"standard-basic\"\r\n                label=\"Antall\"\r\n                value={antall}\r\n                type=\"number\"\r\n                name=\"antall\"\r\n                color=\"secondary\"\r\n                onChange={handleOnChange}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nexport const Utgifter = ({ onChange, value }) => {\r\n    return (\r\n        <div className=\"paper\" style={{ margin: '20px 0 15px 15px'}}>\r\n            <TextField\r\n                id=\"standard-basic\"\r\n                label=\"Utgifter\"\r\n                value={value}\r\n                type=\"number\"\r\n                name=\"utgifter\"\r\n                color=\"secondary\"\r\n                onChange={onChange}\r\n                style={{ marginRight: '20px' }}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Reise } from './components/Reise';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Utgifter } from './components/Utgifter';\r\nimport './styling/index.css';\r\n\r\nfunction App() {\r\n    const Arbeidsreise = 'arbeidsreiser';\r\n    const Besoeksreise = 'besoeksreiser';\r\n    const UtgifterTilBomFergeEtc = 'utgifterBomFergeEtc';\r\n\r\n    const initialState = {\r\n        arbeidsreiser: [{ id: 0, km: 0, antall: 0 }],\r\n        besoeksreiser: [{ id: 0, km: 0, antall: 0 }],\r\n        utgifterBomFergeEtc: 0,\r\n    };\r\n\r\n    const initialErrorState = {\r\n        message: [],\r\n    };\r\n\r\n    const [state, setState] = useState(initialState);\r\n    const [reisefradrag, setReisefradrag] = useState();\r\n    const [validationError, setError] = useState({\r\n        message: [],\r\n    });\r\n\r\n    const handleAddReise = (reisetype) => {\r\n        const newState = state[reisetype];\r\n        const newUniqueId = Math.max(...newState.map((x) => x.id)) + 1;\r\n        newState.push({ id: newUniqueId, km: 0, antall: 0 });\r\n        setState({ ...state, [reisetype]: newState });\r\n    };\r\n\r\n    const handleDelete = (id, reisetype) => {\r\n        const newState = state[reisetype];\r\n\r\n        if (newState.length <= 1) {\r\n            return;\r\n        }\r\n\r\n        const newStateFiltered = newState.filter((x) => x.id !== id);\r\n        setState({ ...state, [reisetype]: newStateFiltered });\r\n    };\r\n\r\n    const handleOnChange = (name, value, id, reisetype) => {\r\n        const indexToChange = state[reisetype].findIndex((x) => x.id == id);\r\n        const newState = state[reisetype];\r\n        newState[indexToChange][name] = value;\r\n        setState({ ...state, [reisetype]: newState });\r\n    };\r\n\r\n    const handleOnChangeExpenses = (event) => {\r\n        setState({ ...state, utgifterBomFergeEtc: event.target.value });\r\n    };\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        setReisefradrag('');\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(state),\r\n        };\r\n        await fetch('https://reisefradragapi20210321164903.azurewebsites.net/api/ReiseFradrag', requestOptions)\r\n            .then(async (response) => {\r\n                const data = await response.json();\r\n\r\n                if (!response.ok) {\r\n                    const error = (data && data.message) || response.status;\r\n                    setError({ message: data.errors });\r\n                    return Promise.reject(error);\r\n                }\r\n\r\n                setReisefradrag(data.reisefradrag);\r\n                setState(initialState);\r\n                setError(initialErrorState);\r\n            })\r\n            .catch((error) => {\r\n                // handle error\r\n            });\r\n    };\r\n\r\n    return (\r\n        <main>\r\n            <div className=\"wrapper\">\r\n                <div>\r\n                    <h2 className=\"hr-bottom\">Registrer dine arbeidsreiser</h2>\r\n                    {state.arbeidsreiser.map((x) => (\r\n                        <Reise\r\n                            onChange={handleOnChange}\r\n                            handleDelete={handleDelete}\r\n                            key={x.id}\r\n                            id={x.id}\r\n                            km={x.km}\r\n                            antall={x.antall}\r\n                            reisetype={Arbeidsreise}\r\n                        />\r\n                    ))}\r\n                    <div>\r\n                        <IconButton\r\n                            aria-label=\"add\"\r\n                            type=\"button\"\r\n                            color=\"secondary\"\r\n                            onClick={() => handleAddReise(Arbeidsreise)}\r\n                            style={{ margin: '0 0 0 45px' }}\r\n                        >\r\n                            <Icon>add_circle</Icon>\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <h2 className=\"hr-bottom\">Registrer dine besøksreiser</h2>\r\n                    {state.besoeksreiser.map((x) => (\r\n                        <Reise\r\n                            onChange={handleOnChange}\r\n                            handleDelete={handleDelete}\r\n                            key={x.id}\r\n                            id={x.id}\r\n                            km={x.km}\r\n                            antall={x.antall}\r\n                            reisetype={Besoeksreise}\r\n                        />\r\n                    ))}\r\n                    <div>\r\n                        <IconButton\r\n                            aria-label=\"add\"\r\n                            type=\"button\"\r\n                            color=\"secondary\"\r\n                            onClick={() => handleAddReise(Besoeksreise)}\r\n                            style={{ margin: '0 0 0 45px' }}\r\n                        >\r\n                            <Icon>add_circle</Icon>\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <h2 className=\"hr-bottom\">Registrer dine utgifter</h2>\r\n                    <Utgifter\r\n                        onChange={handleOnChangeExpenses}\r\n                        id={UtgifterTilBomFergeEtc}\r\n                        value={state.utgifterBomFergeEtc}\r\n                    />\r\n                </div>\r\n                <Button\r\n                    type=\"submit\"\r\n                    onClick={handleSubmit}\r\n                    variant=\"contained\"\r\n                    color=\"secondary\"\r\n                    endIcon={<Icon>send</Icon>}\r\n                    style={{ display: 'flex', margin: '30px auto 10px auto', width: '572px' }}\r\n                >\r\n                    Send inn\r\n                </Button>\r\n\r\n                {reisefradrag && reisefradrag > 1 && (\r\n                    <div className=\"paper flex-text-center\">\r\n                        <h3 style={{ color: 'black' }}>Beregnet reisefradrag</h3>\r\n                        <p style={{fontSize: '40px'}}>Kr: {reisefradrag}</p>\r\n                    </div>\r\n                )}\r\n\r\n                {(reisefradrag && reisefradrag <= 0 && (\r\n                    <div className=\"paper flex-text-center\">\r\n                        <h3 style={{ color: 'black' }}>Beregnet reisefradrag</h3>\r\n                        <p>Ut fra opplysningene du har gitt vil du vil ikke få noe reisefradrag.</p>\r\n                    </div>\r\n                )) ||\r\n                    (validationError.message.length > 0 && (\r\n                        <div className=\"paper flex-text-center\">\r\n                            <h3 style={{ color: 'black' }}>Fyll ut feltene før innsending</h3>\r\n                        </div>\r\n                    ))}\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}